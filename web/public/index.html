<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>랜딩페이지</title>
    <link rel="stylesheet" href="./css/index.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <script>

  document.addEventListener("DOMContentLoaded", async function () {
    const ctx = document.getElementById('myChart');

    try {
      const res = await fetch('http://192.168.1.20:8000/get-expense-data');
      const result = await res.json();
      console.log(result.data)

      const labels = result.data.map(item => item.Category);
      const expenses = result.data.map(item => item.Expense);

      new Chart(ctx, {
      type: 'bar',
      data: {
        labels: labels,
        datasets: [{
          label: 'Expenses',
          data: expenses,
          borderWidth: 1
        }]
      },
      options: {
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });
    } catch (error) {
      console.error(error);
    }

 
  });
  </script>

    <nav class="navbar">
        <div class="logo">Navbar</div>
        <div>Settings</div>
      </nav>
      <div class="main">
        <div class="introduce">       
            <h2>"은퇴 이후, 우리는 얼마나 필요할까요?"</h2>

            평범한 삶부터 여유로운 노후까지,<br/>
            지금부터 매달 얼마를 저축해야 하는지,<br/>
            그리고 은퇴 후 필요한 총 금액이 얼마인지<br/>
            한눈에 확인해보세요.
            <div>
            <button type="button" onclick="window.location.href = '/input.html'">시작하기</button>
            </div>
          </div>
          <div>
            <canvas id="myChart" width="600" height="400"></canvas>
          </div>
        
      </div>

</body>
</html>